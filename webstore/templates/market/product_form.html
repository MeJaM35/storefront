{% extends 'base.html' %}

{% block content %}
<div class="w-full flex flex-col items-center justify-center mt-16 ">

    <div class=" w-4/5 h-screen flex flex-row justify-center items-center overflow-hidden border-b-2 border-black">

        <div class="h-full flex flex-col items-center p-16 justify-center  w-1/2 ">
            <div class="h-2/3 w-full border-2 border-black rounded-md mr-2 relative">
                <div id="mainImage" class="w-full h-full bg-gray-300 flex justify-center items-center">
                    <span class="text-gray-600 text-md">Choose Image</span>
                </div>
                <label for="mainImageUpload1" class="absolute inset-0 flex justify-center items-center cursor-pointer">
                    <input id="mainImageUpload1" type="file" class="absolute inset-0 opacity-0 cursor-pointer" onchange="displayImage(this, 'mainImage')">
                </label>
            </div>

            <div class="h-1/5 w-full flex flex-row justify-between items-center py-2">
                <!-- Image placeholders -->
                <div class="h-full w-1/3 border-2 border-black rounded-md mr-2 relative">
                    <div id="smallImage1" class="w-full h-full bg-gray-300 flex justify-center items-center">
                        <span class="text-gray-600 text-md">Choose Image</span>
                    </div>
                    <label for="smallImageUpload1" class="absolute inset-0 flex justify-center items-center cursor-pointer">
                        <input id="smallImageUpload1" type="file" class="absolute inset-0 opacity-0 cursor-pointer" onchange="displayImage(this, 'smallImage1')">
                    </label>
                </div>
        
                <div class="h-full w-1/3 border-2 border-black rounded-md mr-2 relative">
                    <div id="smallImage2" class="w-full h-full bg-gray-300 flex justify-center items-center">
                        <span class="text-gray-600 text-md">Choose Image</span>
                    </div>
                    <label for="smallImageUpload2" class="absolute inset-0 flex justify-center items-center cursor-pointer">
                        <input id="smallImageUpload2" type="file" class="absolute inset-0 opacity-0 cursor-pointer" onchange="displayImage(this, 'smallImage2')">
                    </label>
                </div>
        
                <div class="h-full w-1/3 border-2 border-black rounded-md relative">
                    <div id="smallImage3" class="w-full h-full bg-gray-300 flex justify-center items-center">
                        <span class="text-gray-600 text-md">Choose Image</span>
                    </div>
                    <label for="smallImageUpload3" class="absolute inset-0 flex justify-center items-center cursor-pointer">
                        <input id="smallImageUpload3" type="file" class="absolute inset-0 opacity-0 cursor-pointer" onchange="displayImage(this, 'smallImage3')">
                    </label>
                </div>
            </div>
        </div>
         
        <div class="h-2/3 w-1/2 flex flex-col justify-start items-start overflow-hidden">
            <p class="font-normal font-medium text-xs py-2">@ BRAND NAME</p>
            <input type="text" class="text-gray-950 font-bold text-6xl my-3 border-b-2 bg-transparent border border-gray-900 rounded-md placeholder-gray-900 border-gray-400 w-5/6 px-2" placeholder="PRODUCT NAME">
            <textarea class="p-3 w-4/5 text-gray-950 bg-transparent border border-gray-900 rounded-md placeholder-gray-900 hover:bg-gray-300" rows="4" placeholder="Type Some Cool Description of your Product Here ."></textarea>         
            <div class="text-lg font-normal mt-4 ">
                <label for="price" class="font-semibold">PRICE:</label>
                <input id="price" name="price" type="number" min="0" step="1" class=" bg-transparent border border-gray-900 rounded-md px-3 py-2">
                <span class="ml-1">Rs</span>
            </div>            
            <h2 class="font-semibold text-xl mt-3">Features</h2>
            <div class="feature overflow-auto max-h-20 w-3/4">
                <div>
                    <ul id="features-list" class="font-light text-md list-disc pl-6 py-2 overflow-hidden">
                        <!-- Features will be dynamically added here -->
                    </ul>
                </div>
            </div>
            <div>
                <input type="text" id="new-feature" class="text-gray-950 bg-transparent border border-gray-900 rounded-md placeholder-gray-900 hover:bg-gray-300 px-3 py-2 mt-2" placeholder="Add a new feature">
                <button onclick="addFeature()" class="bg-red-800 border border-gray-900 hover:bg-red-700 text-white font-semibold px-4 py-2 rounded-md ml-2">+</button>
                <button class="bg-red-800 border border-gray-900 hover:bg-red-700 text-white font-semibold px-4 py-2 rounded-md ml-2">Add</button>
            </div>
        </div>
    </div>
</div>

<script>
    function displayImage(input, targetId) {
        const target = document.getElementById(targetId);
        const file = input.files[0];
        const reader = new FileReader();

        reader.onload = function(e) {
            const img = document.createElement('img');
            img.src = e.target.result;
            img.classList.add('w-full', 'h-full', 'object-cover', 'rounded-md');
            target.innerHTML = '';
            target.appendChild(img);
        };

        reader.readAsDataURL(file);
    }
</script>

<script>
    function addFeature() {
        var featureInput = document.getElementById('new-feature');
        var featureText = featureInput.value.trim();
        if (featureText !== '') {
            var featuresList = document.getElementById('features-list');
            var listItem = document.createElement('li');
            listItem.textContent = featureText;
            featuresList.appendChild(listItem);
            featureInput.value = ''; // Clear the input field after adding the feature
        }
    }
</script>


{% endblock %}